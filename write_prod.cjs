const fs = require('fs'); 
const content = `fs.readFileSync('server/src/controllers/productController.ts', 'utf8');`  
fs.writeFileSync('server/src/controllers/productController.ts', content.split(String.fromCharCode(10)).slice(0, 270).join(String.fromCharCode(10)) + String.fromCharCode(10) + String.fromCharCode(10) + `\"export const exportProducts = async (req, res) => { try { const products = await db('products') .leftJoin('categories', 'products.category_id', 'categories.id') .select( 'products.name as Product Name', 'categories.name as Category', 'products.description as Description', 'products.price as Price', 'products.cost as Cost', 'products.preparation_time as Prep Time (Mins)', 'products.is_available as Available', 'products.is_active as Active' ) .where('products.is_active', true) .orderBy('categories.name', 'asc') .orderBy('products.name', 'asc'); const workbook = XLSX.utils.book_new(); const worksheet = XLSX.utils.json_to_sheet(products); const colWidths = [ { wch: 30 }, { wch: 20 }, { wch: 40 }, { wch: 10 }, { wch: 10 }, { wch: 15 }, { wch: 10 }, { wch: 10 } ]; worksheet['!cols'] = colWidths; XLSX.utils.book_append_sheet(workbook, worksheet, 'Menu'); const buffer = XLSX.write(workbook, { type: 'buffer', bookType: 'xlsx' }); res.setHeader('Content-Disposition', 'attachment; filename=\\\"Menu_Export.xlsx\\\"'); res.setHeader('Content-Type', 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'); res.send(buffer); } catch (err) { console.error('Error exporting products:', err); res.status(500).json({ message: 'Error exporting products' }); } };\",`  
